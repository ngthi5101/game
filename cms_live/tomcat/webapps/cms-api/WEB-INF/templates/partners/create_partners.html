<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

    <head>
        <meta charset="utf-8" />       
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png" th:href="@{/resources/dashboard_files/favicon.png}"/>
        <title data-th-text="#{admin.page.title}">Title</title>
		<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png" th:href="@{/resources/dashboard_files/favicon.png}"/>	
        <!-- Core CSS - Include with every page -->
        <link href="css/bootstrap.min.css" rel="stylesheet"
              th:href="@{/resources/sb-admin-v2/css/bootstrap.min.css}" />
        <link href="font-awesome/css/font-awesome.css" rel="stylesheet"
              th:href="@{/resources/sb-admin-v2/font-awesome/css/font-awesome.css}" />
        <link rel="stylesheet" type="text/css" media="all"
              href="bootstrap-daterangepicker/daterangepicker-bs3.css"
              th:href="@{/resources/bootstrap-daterangepicker/daterangepicker-bs3.css}" />
		<!-- validate css-->
		<link rel="stylesheet" type="text/css"  th:href="@{/resources/jquery-validation-1.13.1/css/style.css}" /> 
        <!-- Page-Level Plugin CSS - Dashboard -->
        <link href="css/plugins/morris/morris-0.4.3.min.css" rel="stylesheet"
              th:href="@{/resources/sb-admin-v2/css/plugins/morris/morris-0.4.3.min.css}" />
        <link href="css/plugins/timeline/timeline.css" rel="stylesheet" th:href="@{/resources/sb-admin-v2/css/plugins/timeline/timeline.css}" />
        <!-- SB Admin CSS - Include with every page -->
        <link href="css/sb-admin.css" rel="stylesheet" th:href="@{/resources/sb-admin-v2/css/sb-admin.css}" />
    </head>

    <body>

        <div id="wrapper">
        <div data-th-replace="fragments/sb-admin :: top-nav"></div>
			<div data-th-replace="fragments/sb-admin :: vert-nav-admin"></div>		
            <div id="page-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">Thêm người dùng mới</h1>
                        </div>
                        <!-- /.col-lg-12 -->
                    </div>
                    <!-- /.row -->
                    <div class="row">
                        <form id="UserForm" class="form-horizontal"  action="/users/create_users" th:action="@{../users/create_users}" th:object="${authUser}" method="POST">
                             <fieldset>
                             <div class="row">
                                    <div class="col-lg-12">
                                        <div class="alert alert-warning" th:if="${err} != null">
                                            <span th:text="${err}">Lỗi</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-info">
                                    <div class="panel-heading">
                                        <ul class="nav nav-pills">
                                            <li><p>Thông tin người dùng</p></li>
                                            <li class="pull-right"><a class="btn btn-danger btn-lg" th:href="@{/users/list_users.html}" title="Bỏ qua" th:text="#{button.action.cancel}">
                                                    <i class="fa fa-check"> </i>
                                                </a></li>
                                            <li class="pull-right"><button class="btn btn-info btn-lg" type="submit" title="Lưu" th:text="#{button.action.save}">
                                                    <i class="fa fa-check"> </i>
                                                </button></li>                                            
                                        </ul>
                                    </div>
                                    <div class="panel-body">
	                                    <div class="row">
	                                     <div class="col-md-8 col-md-offset-1">
	                                     		<div class="form-group">
                                                    <label class="col-lg-4 control-label">Tên đăng nhập</label>
                                                    <div class="col-lg-8">
                                                        <input class="form-control" placeholder="Username" type="text" th:field="*{userName}"/>                                                    	
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-lg-4 control-label">Mật khẩu</label>
                                                    <div class="col-lg-8">
                                                        <input class="form-control" placeholder="Password"  type="password"  th:field="*{password}"></input>                                                               
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputRePassword" class="col-lg-4 control-label">Nhập lại Mật khẩu</label>
                                                    <div class="col-lg-8">
                                                        <input class="form-control" type="password" id="re_password"></input>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputFullName" class="col-lg-4 control-label">Họ tên</label>
                                                    <div class="col-lg-8">
                                                        <input class="form-control" type="text" th:field="*{fullName}"></input>                                                        
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputEmail" class="col-lg-4 control-label">Email</label>
                                                    <div class="col-lg-8">
                                                        <input class="form-control" type="email" th:field="*{email}"></input>                                                       
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-lg-4 control-label">Giới tính</label>
                                                    <div class="col-lg-8">
                                                    <ul class="list-inline">
                                                      		<li>                                                      		
                                                      		<input name="gender" id="optionsRadios1" value="1" th:checked="#{true}" type="radio" th:field="*{gender}"> Nam</input>
                                                      		</li>
                                                      		<li>                                                      		
                                                      		<input name="gender" id="optionsRadios2" value="0" type="radio" th:field="*{gender}">Nữ</input>
                                                      		</li>
													 </ul>                                                   
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="partner" class="col-sm-4 control-label">Đối tác</label>
                                                    <div class="col-sm-8">
                                                        <select name="partnerid" class="form-control">
                                                            <option th:each="partner: ${partners}"
                                                                    th:value="${partner.id}" th:text="${partner.name}">Lựa chọn</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="description" class="col-sm-4 control-label">
                                                        Loại tài khoản </label>
                                                    <div class="col-sm-8">
                                                        <select name="type" class="form-control" th:field="*{userType}">
                                                            <option value="1">Quản trị</option>
                                                            <option value="2">Đối tác</option>                                                            
                                                            <option value="3">Chăm sóc khách hàng</option>                                                            
                                                        </select>
                                                    </div>
                                                </div> 
                                                <div class="form-group">
                                                    <label for="description" class="col-sm-4 control-label">Quyền sử dụng</label>
                                                    <div class="col-sm-8">                                                    
                                                      <ul class="list-inline">
                                                      		<li th:each="role : ${roles}">                                                      		
                                                      		<input type="checkbox" name="userRoles" th:value="${role.id}" />
                                                      		<label th:text="${role.name}">ROLE_USER</label>
                                                      		</li>
													 </ul>
                                                    </div>
                                                </div>
	                                     </div>
	                                    </div>
                                    </div> <!-- end panel-body -->
                                  </div><!-- end panel-->
                             </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#wrapper -->

        <!-- Core Scripts - Include with every page -->
        <script src="js/jquery-1.10.2.js"
        th:src="@{/resources/sb-admin-v2/js/jquery-1.10.2.js}"></script>
        <script src="js/bootstrap.min.js"
        th:src="@{/resources/sb-admin-v2/js/bootstrap.min.js}"></script>
        <script src="js/plugins/metisMenu/jquery.metisMenu.js"
        th:src="@{/resources/sb-admin-v2/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
        <!-- form validate -->
         <script src="/resources/jquery-validation-1.13.1/jquery.validate.min.js" th:src="@{/resources/jquery-validation-1.13.1/jquery.validate.min.js}"></script>
        <script src="/resources/jquery-validation-1.13.1/additional-methods.min.js" th:src="@{/resources/jquery-validation-1.13.1/additional-methods.min.js}"></script>   
        <script src="/resources/jquery-validation-1.13.1/jquery-ui.min.js" th:src="@{/resources/jquery-validation-1.13.1/jquery-ui.min.js}"></script>  
   
        <!-- SB Admin Scripts - Include with every page -->
        <script src="js/sb-admin.js"
        th:src="@{/resources/sb-admin-v2/js/sb-admin.js}"></script>
 		<script>
            $(document).ready(function () {
             // validate signup form on keyup and submit
        		$("#UserForm").validate({
        			rules: {
        				userName: {
        					required: true,
        					minlength: 2
        				},
        				password: {
        					required: true,
        					minlength: 5
        				},
        				re_password: {
        					required: true,
        					minlength: 5,
        					equalTo: "#password"
        				},
        				fullName:"required",
        				email: {
        					required: true,
        					email: true
        				},
        				gender: {
        					minlength: 1
        				}/* ,
        				authRoles:{
        					required: true,
        					minlength: 1
        				}, */
        			},
        			messages: {        				
        				userName: {
        					required: "Please enter a username",
        					minlength: "Your username must consist of at least 2 characters"
        				},
        				password: {
        					required: "Please provide a password",
        					minlength: "Your password must be at least 5 characters long"
        				},
        				re_password: {
        					required: "Please provide a password",
        					minlength: "Your password must be at least 5 characters long",
        					equalTo: "Please enter the same password as above"
        				},
        				fullName: "Please enter a fullname",
        				email: "Please enter a valid email address",
        				gender: "Please select at checkbox"/* ,
        				authRoles: "Please select a role" */
        			}
        		});
            });
        </script>
    </body>

</html>