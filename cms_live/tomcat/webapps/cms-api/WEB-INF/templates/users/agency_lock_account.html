<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

	<head>

		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="icon" type="image/png" sizes="96x96"
			  href="/favicon-96x96.png"
			  th:href="@{/resources/dashboard_files/favicon.png}" />

		<title data-th-text="#{admin.page.title}">Game - User Detail</title>

		<!-- Core CSS - Include with every page -->
		<link href="../css/bootstrap.min.css" rel="stylesheet"
			  th:href="@{/resources/sb-admin-v2/css/bootstrap.min.css}" />
		<link href="../font-awesome/css/font-awesome.css" rel="stylesheet"
			  th:href="@{/resources/sb-admin-v2/font-awesome/css/font-awesome.css}" />
		<link rel="stylesheet" type="text/css" media="all"
			  href="../bootstrap-daterangepicker/daterangepicker-bs3.css"
			  th:href="@{/resources/bootstrap-daterangepicker/daterangepicker-bs3.css}" />
		<!-- DataTables CSS -->
		<link href="css/plugins/dataTables.bootstrap.css" rel="stylesheet"
			  th:href="@{/resources/sb-admin-v2/css/plugins/dataTables/jquery.dataTables.min.css}" />
		<link href="css/plugins/responsive.dataTables.min.css" rel="stylesheet"
			  th:href="@{/resources/sb-admin-v2/css/plugins/dataTables/responsive.dataTables.min.css}" />
		<!-- Page-Level Plugin CSS - Dashboard -->
		<link href="../css/plugins/morris/morris-0.4.3.min.css" rel="stylesheet"
			  th:href="@{/resources/sb-admin-v2/css/plugins/morris/morris-0.4.3.min.css}" />
		<link href="../css/plugins/timeline/timeline.css" rel="stylesheet"
			  th:href="@{/resources/sb-admin-v2/css/plugins/timeline/timeline.css}" />
		<link href="../bootstrapformhelpers/css/bootstrap-formhelpers.min.css"
			  rel="stylesheet"
			  th:href="@{/resources/bootstrapformhelpers/css/bootstrap-formhelpers.min.css}" />
		<!-- SB Admin CSS - Include with every page -->
		<link href="../css/sb-admin.css" rel="stylesheet"
			  th:href="@{/resources/sb-admin-v2/css/sb-admin.css}" />

	</head>

	<body>

		<div id="wrapper">
			<div data-th-replace="fragments/sb-admin :: top-nav"></div>
			<div data-th-replace="fragments/sb-admin :: vert-nav-admin"></div>
			<div id="page-wrapper">
				<div class="row">
					<div class="col-lg-12">
						<h1 class="page-header">
							Khóa các tài khoản từng giao dịch
						</h1>
					</div>
					<!-- /.col-lg-12 -->
				</div>
				<div class="row" th:if="${success == true}">
					<div class="col-lg-12">
						<div class="alert alert-success">
							<p>Khóa tài khoản thành công. <span th:text="${message}"></span></p>
						</div>
					</div>
				</div>
				<div class="row" th:if="${failure == true}">
					<div class="col-xs-12">
						<div class="alert alert-warning">
							<p>Thất bại. Vui lòng thử lại! <span th:text="${message}"></span></p>
						</div>
					</div>
				</div>
				<!-- /.row -->
				<div class="row">
					<div class="col-xs-12">
						<table class="table table-striped table-bordered table-hover" id = "tblUsers">
							<thead>
								<tr>
									<th>ID Đại lí</th>
									<th>Ngày giờ</th>
									<th>Thay đổi</th>
									<th>Gold sau thay đổi</th>
									<th>Nội dung giao dịch</th>
									<th>ID đối tượng</th>
									<th>Trạng thái đối tượng</th>
									<th>Hành động</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="oneData, iterStat : ${ListGoldExchange}">
									<td th:text="${oneData.userId}"> 0 </td>
									<td th:text="${oneData.datetime}"> 0 </td>
									<td th:text="${#numbers.formatDecimal(oneData.goldChange, 0, 'COMMA', 0, 'POINT')}" class="td_change_number"> 0 </td>
									<td th:text="${#numbers.formatDecimal(oneData.gold, 0, 'COMMA', 0, 'POINT')}"> 0 </td>
									<td th:text="${oneData.reason}" class="td_noidung"> 0 </td>
									<td th:text="${oneData.targetUserId}" class="target_id">0 </td>
									<td class="user_status"></td>
									<td><a href="edit_user.html?user_id=1" th:href="@{'/users/agency_lock_account.html?user_id=' + ${oneData.targetUserId}}" >Khóa</a></td>
								</tr>
							</tbody>
                        </table>
						<div th:each="oneData, iterStat : ${listTargetUserStatus}" style="display: none;" class="listTargetUserStatus">
							<div th:attr="class=${'targetid-'+oneData.getId()},data-status=${oneData.status}"></div>
						</div>
						<!-- /.panel -->
					</div>
					<!-- /.col-lg-12 -->
				</div>
				<!-- /.row -->
			</div>
			<!-- /#page-wrapper -->
		</div>
		<!-- /#wrapper -->

		<!-- Core Scripts - Include with every page -->
		<script src="../js/jquery-1.10.2.js"
		th:src="@{/resources/sb-admin-v2/js/jquery-1.10.2.js}"></script>
		<script src="../js/bootstrap.min.js"
		th:src="@{/resources/sb-admin-v2/js/bootstrap.min.js}"></script>
		<script src="../js/plugins/metisMenu/jquery.metisMenu.js"
		th:src="@{/resources/sb-admin-v2/js/plugins/metisMenu/jquery.metisMenu.js}"></script>

		<!-- Page-Level Plugin Scripts - Dashboard -->
		<script src="../bootstrapformhelpers/js/bootstrap-formhelpers.js"
		th:src="@{/resources/bootstrapformhelpers/js/bootstrap-formhelpers.js}"></script>
		<script type="text/javascript"
				src="../bootstrap-daterangepicker/moment.js"
		th:src="@{/resources/bootstrap-daterangepicker/moment.js}"></script>
		<script type="text/javascript"
				src="../bootstrap-daterangepicker/daterangepicker.js"
		th:src="@{/resources/bootstrap-daterangepicker/daterangepicker.js}"></script>
		<!-- Page-Level Plugin Scripts - Tables -->
		<script src="js/plugins/dataTables/jquery.dataTables.js"
		th:src="@{/resources/sb-admin-v2/js/plugins/dataTables/jquery.dataTables.min.js}"></script>
		<script src="js/plugins/dataTables/dataTables.bootstrap.js"
		th:src="@{/resources/sb-admin-v2/js/plugins/dataTables/dataTables.responsive.min.js}"></script>
		<!-- SB Admin Scripts - Include with every page -->
		<script src="../js/sb-admin.js"
		th:src="@{/resources/sb-admin-v2/js/sb-admin.js}"></script>

		<script th:inline="javascript">
			/*<![CDATA[*/
			var currUrl = /*[[@{/}]]*/"";
			var getBackResult = /*[[@{json_result}]]*/"";
			console.log("getBackResult: ")
			console.log(getBackResult)
			/*]]>*/
		</script>
		
		<script>
			$(document).ready(($)=>{
								$('.target_id').each((i, o)=>{
									let targetid = $(o).text();
									$(o).siblings('.user_status').text(
										$('.listTargetUserStatus .targetid-'+targetid).data("status") == '1' ? 'Khóa' : ''
									);
								});
			});
		</script>


		<!-- Page-Level Demo Scripts - Forms - Use for reference -->

	</body>

</html>
