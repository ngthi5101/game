<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:hz="http://www.hazelcast.com/schema/spring"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context-2.5.xsd
		http://www.hazelcast.com/schema/spring
                http://www.hazelcast.com/schema/spring/hazelcast-spring-3.1.xsd">

	<bean id="chipChangeListener" class="vn.yotel.yoker.listener.ChipChangeListener" />
	<bean id="messageToUserListener" class="vn.yotel.yoker.listener.ChipChangeListener" />
	<bean id="bonusInfoToUserListener" class="vn.yotel.yoker.listener.ChipChangeListener" />	
	<bean id="freeChipToUserQueueListener" class="vn.yotel.yoker.listener.ChipChangeListener" />	
	<hz:hazelcast id="instance">
		<hz:config>
<!--			<hz:group name="igame" password="igame!@#45" />
			<hz:network port="4568" port-auto-increment="false">
				<hz:join>
					<hz:multicast enabled="true" multicast-group="224.2.2.4" multicast-port="54322" />
					<hz:tcp-ip enabled="false">
						<hz:members>127.0.0.1</hz:members>
					</hz:tcp-ip>
				</hz:join>
			</hz:network> -->
			<!-- 			<hz:map name="distributedMap" backup-count="2" max-size="0"
				read-backup-data="true" eviction-policy="NONE"
				merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" /> -->
			<hz:queue name="chipChangeQueue" max-size="10000">
				<hz:item-listeners>
					<hz:item-listener implementation="chipChangeListener" include-value="true" />
				</hz:item-listeners>
			</hz:queue>
			<hz:queue name="messageToUserQueue" max-size="10000">
				<hz:item-listeners>
					<hz:item-listener implementation="messageToUserListener" include-value="true" />
				</hz:item-listeners>
			</hz:queue>
			<hz:queue name="bonusInfoToUserQueue" max-size="10000">
				<hz:item-listeners>
					<hz:item-listener implementation="bonusInfoToUserListener" include-value="true" />
				</hz:item-listeners>
			</hz:queue>			
			<hz:queue name="freeChipToUserQueue" max-size="100000">
				<hz:item-listeners>
					<hz:item-listener implementation="freeChipToUserQueueListener" include-value="true" />
				</hz:item-listeners>
			</hz:queue>
			<hz:map name="paymentMap" backup-count="2" max-size="10000"
				read-backup-data="true" eviction-policy="NONE"
				merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="tokenMap" backup-count="2" max-size="1000000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="7200" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="topUserMap" backup-count="2" max-size="1000000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="72000" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="topUserGoldMap" backup-count="2" max-size="500000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="60000" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="topUserExpMap" backup-count="2" max-size="500000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="60000" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="topUserExpByZoneMap" backup-count="2" max-size="500000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="60000" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="topUserGlobalMap" backup-count="2" max-size="500000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="60000" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="userZoneExpMap" backup-count="2" max-size="1000000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="72" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="userGlobalExpMap" backup-count="2" max-size="1000000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="72000" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
			<hz:map name="sessionIdMap" backup-count="2" max-size="100000"
				read-backup-data="true" eviction-policy="LRU"
				time-to-live-seconds="172800" merge-policy="com.hazelcast.map.merge.PassThroughMergePolicy" />
		</hz:config>
	</hz:hazelcast>
	<hz:map id="distributedMap" instance-ref="instance" name="distributedMap"/>
	<hz:map id="onlineUsersMap" instance-ref="instance" name="onlineUsersMap"/>
	<hz:map id="sessionIdMap" instance-ref="instance" name="sessionIdMap"/>
	<hz:map id="paymentMap" instance-ref="instance" name="paymentMap"/>
	<hz:map id="tokenMap" instance-ref="instance" name="tokenMap"/>
	<hz:map id="topUserMap" instance-ref="instance" name="topUserMap"/>
	<hz:map id="topUserGoldMap" instance-ref="instance" name="topUserGoldMap"/>
	<hz:map id="topUserExpMap" instance-ref="instance" name="topUserExpMap"/>
	<hz:map id="topUserExpByZoneMap" instance-ref="instance" name="topUserExpByZoneMap"/>
	<hz:map id="topUserGlobalMap" instance-ref="instance" name="topUserGlobalMap"/>
	<hz:map id="userZoneExpMap" instance-ref="instance" name="userZoneExpMap"/>
	<hz:map id="userGlobalExpMap" instance-ref="instance" name="userGlobalExpMap"/>
	
	<!-- Chipchange From WebSMS -->
	<hz:queue id="chipChangeQueue" instance-ref="instance" name="chipChangeQueue"/>
	<hz:queue id="messageToUserQueue" instance-ref="instance" name="messageToUserQueue"/>
	<hz:queue id="bonusInfoToUserQueue" instance-ref="instance" name="bonusInfoToUserQueue"/>
	<hz:queue id="freeChipToUserQueue" instance-ref="instance" name="freeChipToUserQueue"/>
</beans>